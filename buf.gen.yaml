version: v2
plugins:
  - local: ./node_modules/.bin/protoc-gen-ts_proto
    out: src/generated/proto
    opt:
      - outputServices=none # do not generate grpc services
      - useOptionals=messages
      - esModuleInterop=true
  - local: protoc-gen-openapi
    out: src/generated/openapi
    strategy: all
    opt:
      - fq_schema_naming=true
      - default_response=false
      - title=Controller Service
      - version=v1
      - description=This is the OpenAPI schema for Controller service
      - naming=json
